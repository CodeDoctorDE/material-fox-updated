// change icons position
#urlbar-input-container {
  display: flex !important;
  align-items: center !important;
}

#urlbar-zoom-button {
  order: 100 !important;
}

#page-action-buttons {
  order: 99 !important;
}

#tracking-protection-icon-container {
  order: 98 !important;
}

.urlbar-input-box {
  flex: 1 1 auto !important;
}

// URL icons
#identity-box,
#tracking-protection-icon-container,
#notification-popup-box,
.urlbar-icon {
  fill: var(--mf-icon-color) !important;
}

// URL popup icons
#identity-popup,
#permission-popup,
#protections-popup,
.popup-notification-icon,
.permission-popup-permission-icon,
.subviewbutton-iconic > .toolbarbutton-icon {
  fill: var(--mf-icon-color) !important;
}

// URL bar icons hover
$urlbar-icons: "#reader-mode-button, #pageActionButton, #pocket-button-box, #pageAction-urlbar-screenshots_mozilla_org, #pageAction-urlbar-sendToDevice, #pageAction-urlbar-emailLink, #pageAction-urlbar-copyURL, #pageAction-urlbar-shareURL, #pageAction-urlbar-addSearchEngine";

.urlbar-page-action:is(#{$urlbar-icons}) {
  opacity: 0 !important;
  visibility: hidden !important;
  margin-inline-start: -32px !important;
  transition: background-size 167ms linear, background-color 167ms,
    margin 167ms ease-in, opacity 83ms linear, visibility 4s !important;
}

#urlbar:hover #tracking-protection-icon-box,
#urlbar:hover .urlbar-page-action:is(#{$urlbar-icons}),
.urlbar-page-action:is(#{$urlbar-icons}):is(:hover, [open], [readeractive]),
.urlbar-page-action:is(:hover, [open])
  ~ .urlbar-page-action:is(#{$urlbar-icons}),
#tracking-protection-icon-container[open]
  ~ #page-action-buttons
  .urlbar-page-action:is(#{$urlbar-icons}),
#tracking-protection-icon-container[open] #tracking-protection-icon-box,
#tracking-protection-icon-box[active] {
  opacity: 1 !important;
  visibility: visible !important;
  margin-inline-start: 0 !important;
  transition: background-size 167ms linear, background-color 167ms,
    margin 167ms ease-in, opacity 83ms linear !important;
}

#urlbar {
  &[open] {
    #page-action-buttons,
    #tracking-protection-icon-container {
      display: none !important;
    }
  }
}

// Centered URL icons
.urlbar-page-action {
  -moz-box-align: center !important;
}
